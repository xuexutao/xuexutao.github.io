<!DOCTYPE html>
<html lang="zh-CN">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="OpenGL" />
    <meta name="hexo-theme-A4" content="v1.9.6" />
    <link rel="alternate icon" type="image/webp" href="/img/man.jpg">
    <title>Xuext</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    
        <style>
            .index-main{
                max-width:  880px;
            }
        </style>

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/man.jpg" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Xuext</a> 
            <span class="description">Beihang University</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">â›°ï¸æ–‡ç« </a></li>
            
        
            
                <li><a href="/categories/">ğŸŒ¬ï¸åˆ†ç±»</a></li>
            
        
            
                <li><a href="/lover/">ğŸ’—ğŸ’—</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    OpenGL
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                    <span>æœ€è¿‘æ›´æ–°ï¼š2024-10-20</span> 
                
                
                    
                        &nbsp; | &nbsp;
                    
                     <span>å­—æ•°æ€»è®¡ï¼š3.5k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š15åˆ†é’Ÿ</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span id="busuanzi_container_page_pv">
                        é˜…è¯»é‡ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡
                    </span>
                
            </div>
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#opengl-install"><span class="post-toc-text">OpenGL install</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E4%B8%89%E8%A7%92%E5%BD%A2"><span class="post-toc-text">ä¸‰è§’å½¢</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E9%A1%B6%E7%82%B9"><span class="post-toc-text">é¡¶ç‚¹</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#shader"><span class="post-toc-text">Shader</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#uniform"><span class="post-toc-text">Uniform</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#texture"><span class="post-toc-text">Texture</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%BA%B9%E7%90%86%E7%8E%AF%E7%BB%95%E6%96%B9%E5%BC%8F"><span class="post-toc-text">çº¹ç†ç¯ç»•æ–¹å¼</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%BA%94%E7%94%A8%E7%BA%B9%E7%90%86"><span class="post-toc-text">åº”ç”¨çº¹ç†</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#glsl%E4%BB%A3%E7%A0%81%E5%AE%9E%E8%B7%B5"><span class="post-toc-text">GLSLä»£ç å®è·µ</span></a></li></ol>
            
        
        <div class=".article-gallery"><h1 id="opengl-install">OpenGL install</h1>
<ul>
<li>å¦‚ä½•åœ¨macä¸Šé…ç½®openglç¯å¢ƒ</li>
</ul>
<p>https://blog.csdn.net/weixin_43669978/article/details/131339068</p>
<p>è¿è¡Œæ—¶éƒ½æ˜¯ä½¿ç”¨makeæ–¹å¼è¿è¡Œï¼Œè¿è¡Œè¿›å…¥buildä¸­ï¼Œä½¿ç”¨<code>cmake ..</code>ï¼› ç„¶åä½¿ç”¨<code>make</code> ç¼–è¯‘ï¼Œç„¶åå°±ä¼šç”Ÿæˆ<code>HelloGL</code>æ–‡ä»¶</p>
<p>è¿™æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ä»£ç æ¨¡ç‰ˆï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;glad/glad.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;GLFW/glfw3.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;glm/glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;glm/glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;glm/glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">unsigned</span> <span class="type">int</span> SCR_WIDTH = <span class="number">800</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">unsigned</span> <span class="type">int</span> SCR_HEIGHT = <span class="number">600</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">framebuffer_size_callback</span><span class="params">(GLFWwindow *window, <span class="type">int</span> width, <span class="type">int</span> height)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">glViewport</span>(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">glfwInit</span>();</span><br><span class="line">    <span class="built_in">glfwWindowHint</span>(GLFW_CONTEXT_VERSION_MAJOR, <span class="number">3</span>);</span><br><span class="line">    <span class="built_in">glfwWindowHint</span>(GLFW_CONTEXT_VERSION_MINOR, <span class="number">3</span>);</span><br><span class="line">    <span class="built_in">glfwWindowHint</span>(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __APPLE__</span></span><br><span class="line">    <span class="built_in">glfwWindowHint</span>(GLFW_OPENGL_FORWARD_COMPAT, GL_TRUE);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    GLFWwindow *window = <span class="built_in">glfwCreateWindow</span>(SCR_WIDTH, SCR_HEIGHT, <span class="string">&quot;opeGL&quot;</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (window == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;failed to create GLFW window&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="built_in">glfwTerminate</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">glfwMakeContextCurrent</span>(window);</span><br><span class="line">    <span class="built_in">glfwSetFramebufferSizeCallback</span>(window, framebuffer_size_callback);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">gladLoadGLLoader</span>((GLADloadproc)glfwGetProcAddress))</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Failed to initialize GLAD&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ------------------------------</span></span><br><span class="line">    <span class="comment">// ã€‚ã€‚ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ä¸‰è§’å½¢">ä¸‰è§’å½¢</h1>
<h2 id="é¡¶ç‚¹">é¡¶ç‚¹</h2>
<ul>
<li><p><strong><span style="color: green"> é¡¶ç‚¹ç¼“å†²å¯¹è±¡(Vertex Buffer Objects, VBO)</span></strong>ï¼šä¼šåœ¨GPUå†…å­˜ï¼ˆé€šå¸¸è¢«ç§°ä¸ºæ˜¾å­˜ï¼‰ä¸­å‚¨å­˜å¤§é‡é¡¶ç‚¹ï¼Œç®¡ç†å†…å­˜ã€‚<strong>ï¼ˆOpenGL å¯¹è±¡ï¼‰</strong></p>
<ul>
<li>å¥½å¤„å°±æ˜¯å¯ä»¥ä¸€æ¬¡æ€§å‘é€å¤§æ‰¹æ•°æ®åˆ°æ˜¾å¡ä¸Š</li>
</ul>
<p>å°±åƒOpenGLä¸­çš„å…¶å®ƒå¯¹è±¡ä¸€æ ·ï¼Œè¿™ä¸ªç¼“å†²æœ‰ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„IDï¼Œå¯ä»¥ä½¿ç”¨<code>glGenBuffers</code>å‡½æ•°ç”Ÿæˆä¸€ä¸ªå¸¦æœ‰ç¼“å†²IDçš„VBOå¯¹è±¡ï¼š</p></li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> vertices[] = &#123;</span><br><span class="line">    <span class="number">-0.5f</span>, <span class="number">-0.5f</span>, <span class="number">0.0f</span>,</span><br><span class="line">     <span class="number">0.5f</span>, <span class="number">-0.5f</span>, <span class="number">0.0f</span>,</span><br><span class="line">     <span class="number">0.0f</span>,  <span class="number">0.5f</span>, <span class="number">0.0f</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> VBO;</span><br><span class="line"><span class="built_in">glGenBuffers</span>(<span class="number">1</span>, &amp;VBO);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»‘å®šå¯¹è±¡</span></span><br><span class="line"><span class="built_in">glBindBuffer</span>(GL_ARRAY_BUFFER, VBO);</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="built_in">glBufferData</span>(GL_ARRAY_BUFFER, <span class="built_in">sizeof</span>(vertices), vertices, GL_STATIC_DRAW);</span><br></pre></td></tr></table></figure>
<p>OpenGLæœ‰å¾ˆå¤šç¼“å†²å¯¹è±¡ç±»å‹ï¼šé¡¶ç‚¹å°±æ˜¯GL_ARRAY_BUFFERã€‚æˆ‘ä»¬ä½¿ç”¨çš„ä»»ä½•ï¼ˆåœ¨<strong>GL_ARRAY_BUFFER</strong>ç›®æ ‡ä¸Šçš„ï¼‰ç¼“å†²è°ƒç”¨éƒ½ä¼šç”¨æ¥é…ç½®å½“å‰ç»‘å®šçš„ç¼“å†²(<strong>VBO</strong>)ã€‚</p>
<blockquote>
<p><code>glBufferData</code>æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨æ¥æŠŠç”¨æˆ·å®šä¹‰çš„æ•°æ®å¤åˆ¶åˆ°å½“å‰ç»‘å®šç¼“å†²çš„å‡½æ•°ã€‚</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡ç¼“å†²çš„ç±»å‹ï¼šé¡¶ç‚¹ç¼“å†²å¯¹è±¡å½“å‰ç»‘å®šåˆ°GL_ARRAY_BUFFERç›®æ ‡ä¸Šã€‚</p>
<p>ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šä¼ è¾“æ•°æ®çš„å¤§å°(ä»¥å­—èŠ‚ä¸ºå•ä½)ï¼›ç”¨ä¸€ä¸ªç®€å•çš„<code>sizeof</code>è®¡ç®—å‡ºé¡¶ç‚¹æ•°æ®å¤§å°å°±è¡Œã€‚</p>
<p>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æˆ‘ä»¬å¸Œæœ›å‘é€çš„å®é™…æ•°æ®*ã€‚</p>
<p>ç¬¬å››ä¸ªå‚æ•°æŒ‡å®šäº†æˆ‘ä»¬å¸Œæœ›æ˜¾å¡å¦‚ä½•ç®¡ç†ç»™å®šçš„æ•°æ®ã€‚å®ƒæœ‰ä¸‰ç§å½¢å¼</p>
<ul>
<li>GL_STATIC_DRAW ï¼šæ•°æ®ä¸ä¼šæˆ–å‡ ä¹ä¸ä¼šæ”¹å˜ã€‚</li>
<li>GL_DYNAMIC_DRAWï¼šæ•°æ®ä¼šè¢«æ”¹å˜å¾ˆå¤šã€‚</li>
<li>GL_STREAM_DRAW ï¼šæ•°æ®æ¯æ¬¡ç»˜åˆ¶æ—¶éƒ½ä¼šæ”¹å˜ã€‚</li>
</ul>
</blockquote>
<p>é¡¶ç‚¹ç€è‰²å™¨</p>
<p>å¦‚æœæˆ‘ä»¬æ‰“ç®—åšæ¸²æŸ“çš„è¯ï¼Œç°ä»£OpenGLéœ€è¦æˆ‘ä»¬è‡³å°‘è®¾ç½®ä¸€ä¸ªé¡¶ç‚¹å’Œä¸€ä¸ªç‰‡æ®µç€è‰²å™¨ã€‚</p>
<blockquote>
<p>ç”¨ç€è‰²å™¨è¯­è¨€GLSL(OpenGL Shading Language)ç¼–å†™é¡¶ç‚¹ç€è‰²å™¨, ç„¶åç¼–è¯‘ç€è‰²å™¨:</p>
<p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#version 330 core</span></span><br><span class="line"><span class="built_in">layout</span> (location = <span class="number">0</span>) in vec3 aPos;  <span class="comment">// ä½¿ç”¨inå…³é”®å­—ï¼Œåœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­å£°æ˜æ‰€æœ‰çš„è¾“å…¥é¡¶ç‚¹å±æ€§(Input Vertex Attribute)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   gl_Position = <span class="built_in">vec4</span>(aPos.x, aPos.y, aPos.z, <span class="number">1.0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">char</span> *vertexShaderSource = <span class="string">&quot;#version 330 core\n&quot;</span></span><br><span class="line">                                 <span class="string">&quot;layout (location = 0) in vec3 aPos;\n&quot;</span></span><br><span class="line">                                 <span class="string">&quot;void main()\n&quot;</span></span><br><span class="line">                                 <span class="string">&quot;&#123;\n&quot;</span></span><br><span class="line">                                 <span class="string">&quot;   gl_Position = vec4(aPos.x, aPos.y, aPos.z, 1.0);\n&quot;</span></span><br><span class="line">                                 <span class="string">&quot;&#125;\0&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªç€è‰²å™¨å¯¹è±¡ï¼Œæ³¨æ„è¿˜æ˜¯ç”¨IDæ¥å¼•ç”¨</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> vertexShader = <span class="built_in">glCreateShader</span>(GL_VERTEX_SHADER);</span><br><span class="line"><span class="built_in">glShaderSource</span>(vertexShader, <span class="number">1</span>, &amp;vertexShaderSource, <span class="literal">NULL</span>);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h1 id="shader">Shader</h1>
<p>ç¬¬ä¸€ç§é¢œè‰²ä¼ é€’æ–¹å¼ä¸ºï¼šä»vertexShaderç›´æ¥å®šä¹‰å’ŒfragmentShaderä¸­ç›¸åŒå˜é‡æ¥ä¼ é€’ã€‚</p>
<p>ç¬¬äºŒç§å°±æ˜¯ä½¿ç”¨Uniformå¯¹è±¡ç›´æ¥ä»ä»£ç ä¸­ä¼ é€’é¢œè‰²ç»™FragmentShaderçš„FragColor</p>
<p><strong><span style="color: #9d3f37">Vertex Shader --&gt; Fragment Shader --&gt; outputColor</span></strong></p>
<p>é¡¶ç‚¹ç€è‰²å™¨éœ€è¦ä¸ºå®ƒçš„è¾“å…¥æä¾›ä¸€ä¸ªé¢å¤–çš„<code>layout</code>æ ‡è¯†ï¼Œè¿™æ ·æ‰èƒ½æŠŠå®ƒé“¾æ¥åˆ°é¡¶ç‚¹æ•°æ®</p>
<p>ç‰‡æ®µç€è‰²å™¨ï¼Œå®ƒéœ€è¦ä¸€ä¸ª<code>vec4</code>é¢œè‰²è¾“å‡ºå˜é‡ï¼Œå› ä¸ºç‰‡æ®µç€è‰²å™¨éœ€è¦ç”Ÿæˆä¸€ä¸ªæœ€ç»ˆè¾“å‡ºçš„é¢œè‰²ã€‚å¦‚æœç‰‡æ®µç€è‰²å™¨æ²¡æœ‰å®šä¹‰è¾“å‡ºé¢œè‰²ï¼ŒOpenGLä¼šæŠŠç‰©ä½“æ¸²æŸ“ä¸ºé»‘è‰²ï¼ˆæˆ–ç™½è‰²ï¼‰ã€‚</p>
<h2 id="uniform">Uniform</h2>
<p>uniformæ˜¯å…¨å±€çš„(Global)ï¼Œå¿…é¡»åœ¨æ¯ä¸ªç€è‰²å™¨ç¨‹åºå¯¹è±¡ä¸­éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œè€Œä¸”å®ƒå¯ä»¥è¢«ç€è‰²å™¨ç¨‹åºçš„ä»»æ„ç€è‰²å™¨åœ¨ä»»æ„é˜¶æ®µè®¿é—®ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> timeValue = <span class="built_in">glfwGetTime</span>();</span><br><span class="line"><span class="type">float</span> greenValue = (<span class="built_in">sin</span>(timeValue) / <span class="number">2.0f</span>) + <span class="number">0.5f</span>;</span><br><span class="line"><span class="type">int</span> vertexColorLocation = <span class="built_in">glGetUniformLocation</span>(shaderProgram, <span class="string">&quot;ourColor&quot;</span>);</span><br><span class="line"><span class="built_in">glUseProgram</span>(shaderProgram);</span><br><span class="line"><span class="built_in">glUniform4f</span>(vertexColorLocation, <span class="number">0.0f</span>, greenValue, <span class="number">0.0f</span>, <span class="number">1.0f</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p><span style="color: red ">é¡¶ç‚¹ç€è‰²å™¨ï¼ˆVertex Shaderï¼‰</span>ï¼š - é¡¶ç‚¹ç€è‰²å™¨æ˜¯å›¾å½¢æ¸²æŸ“çš„ç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œå®ƒçš„è¾“å…¥æ¥è‡ªäº<strong>CPU</strong>ã€‚é¡¶ç‚¹ç€è‰²å™¨çš„å¤„ç†å•ä½æ˜¯é¡¶ç‚¹ï¼ŒCPUè¾“å…¥è¿›æ¥çš„æ¯ä¸ªé¡¶ç‚¹éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡é¡¶ç‚¹ç€è‰²å™¨å‡½æ•° - é¡¶ç‚¹ç€è‰²å™¨çš„ä¸»è¦ä»»åŠ¡æ˜¯å¤„ç†3Dæ¨¡å‹çš„é¡¶ç‚¹æ•°æ®ï¼Œæ‰§è¡Œå˜æ¢ä»¥<strong>å°†é¡¶ç‚¹ä»æ¨¡å‹ç©ºé—´è½¬æ¢åˆ°è£å‰ªç©ºé—´</strong>ï¼ŒåŒæ—¶å¯èƒ½è¿˜ä¼šè¿›è¡Œå…¶ä»–é¡¶ç‚¹çº§åˆ«çš„è®¡ç®— - é¡¶ç‚¹ç€è‰²å™¨å¯ä»¥æ“ä½œé¡¶ç‚¹æ¨¡æ‹Ÿæ°´é¢æ³¢çº¹æµ®åŠ¨æ•ˆæœï¼Œå®ç°å¸ƒç±»ä»¿çœŸæ•ˆæœç­‰ã€‚å®ƒè‡³å°‘éœ€è¦åŒ…å«é¡¶ç‚¹çš„ä½ç½®ä¿¡æ¯å¹¶è¿›è¡Œè¾“å‡ºï¼Œä¹Ÿå¯ä»¥è¾“å‡ºå…¶ä»–æ•°æ®æ¯”å¦‚çº¹ç†çš„UVåæ ‡ç­‰ï¼Œè¿™äº›æ•°æ®ä¼šä¼ é€’ç»™ç‰‡æ®µç€è‰²å™¨ã€‚ - åœ¨é¡¶ç‚¹ç€è‰²å™¨å†…ï¼Œå¤„ç†çš„æ˜¯æ¯ä¸ªé¡¶ç‚¹ï¼Œå„é¡¶ç‚¹ä¹‹é—´æ˜¯æ— æ³•ç›¸äº’è®¿é—®çš„ï¼Œæ— æ³•åˆ›å»ºæˆ–è€…åˆ é™¤é¡¶ç‚¹</p>
</blockquote>
<blockquote>
<p><span style="color: red ">ç‰‡æ®µç€è‰²å™¨ï¼ˆFragment Shaderï¼‰</span>ï¼š - åˆ†æ®µç€è‰²å™¨æ˜¯åœ¨å›¾å…ƒï¼ˆå¦‚ä¸‰è§’å½¢ï¼‰çš„æ¯ä¸ªç‰‡æ®µä¸Šæ‰§è¡Œçš„å°ç¨‹åºï¼Œç”¨äºç¡®å®š<strong>æœ€ç»ˆåƒç´ çš„é¢œè‰²</strong>ã€‚å®ƒè´Ÿè´£<strong>å¤„ç†å…‰ç…§ã€çº¹ç†æ˜ å°„ã€é˜´å½±</strong>ç­‰å›¾å…ƒè¡¨é¢çš„å±æ€§ï¼Œæ˜¯å®ç°çœŸå®æ„Ÿæ¸²æŸ“çš„å…³é”®ä¸€ç¯ - åˆ†æ®µç€è‰²å™¨çš„è¾“å…¥ä¸»è¦åŒ…æ‹¬æ’å€¼åå¾—åˆ°çš„é¡¶ç‚¹å±æ€§ã€çº¹ç†åæ ‡ã€å…‰ç…§ä¿¡æ¯ç­‰ï¼Œè€Œè¾“å‡ºåˆ™ä¸ºæœ€ç»ˆåƒç´ ç‰‡æ®µçš„é¢œè‰²å€¼ - åœ¨ç‰‡æ®µç€è‰²å™¨ä¸­ï¼Œå¯ä»¥æ ¹æ®éœ€è¦å¯¹è¾“å…¥è¿›è¡Œå¤„ç†ï¼Œå¹¶è®¡ç®—å‡ºæœ€ç»ˆçš„é¢œè‰²å€¼ã€‚ç‰‡æ®µç€è‰²å™¨çš„è®¡ç®—ç›´æ¥å½±å“ç€æœ€ç»ˆå›¾å½¢æ¸²æŸ“çš„æ•ˆæœ</p>
</blockquote>
<blockquote>
<p>Renderers - Rasterizer - Ray Tracer - Ray Marching</p>
</blockquote>
<p>Distance Estimator DE(x):</p>
<ul>
<li>Sphere: <span class="math inline">\(DE(x) = norm(x - c) - r\)</span></li>
<li>Cylinder: <span class="math inline">\(DE(x) = norm(x_{xy} - c_{xy} ) -r\)</span></li>
<li>Box: <span class="math inline">\(DE(x) = norm(max(abs(x - c) -r , 0))\)</span></li>
<li>Plane: <span class="math inline">\(DE(x) = \frac{x \cdot n}{norm(n)} + d\)</span></li>
</ul>
<h1 id="texture">Texture</h1>
<p>ä¸ºäº†èƒ½å¤ŸæŠŠçº¹ç†æ˜ å°„(Map)åˆ°ä¸‰è§’å½¢ä¸Šï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šä¸‰è§’å½¢çš„æ¯ä¸ªé¡¶ç‚¹å„è‡ªå¯¹åº”çº¹ç†çš„å“ªä¸ªéƒ¨åˆ†ã€‚è¿™æ ·æ¯ä¸ªé¡¶ç‚¹å°±ä¼šå…³è”ç€ä¸€ä¸ª<span style="color : red">çº¹ç†åæ ‡(Texture Coordinate)</span></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> texCoords[] = &#123;</span><br><span class="line">    <span class="number">0.0f</span>, <span class="number">0.0f</span>, <span class="comment">// å·¦ä¸‹è§’</span></span><br><span class="line">    <span class="number">1.0f</span>, <span class="number">0.0f</span>, <span class="comment">// å³ä¸‹è§’</span></span><br><span class="line">    <span class="number">0.5f</span>, <span class="number">1.0f</span>  <span class="comment">// ä¸Šä¸­</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸‰è¡Œåˆ†åˆ«æ˜¯ä¸‰è§’å½¢çš„ä¸‰ä¸ªé¡¶ç‚¹</li>
<li>çº¹ç†åæ ‡åœ¨xå’Œyè½´ä¸Šï¼ŒèŒƒå›´ä¸º0åˆ°1ä¹‹é—´ï¼ˆæ³¨æ„æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯2Dçº¹ç†å›¾åƒï¼‰</li>
<li>ä½¿ç”¨çº¹ç†åæ ‡è·å–çº¹ç†é¢œè‰²å«åš<span style="color : red">é‡‡æ ·(Sampling)</span></li>
</ul>
<p><a href="image.png" class="gallery-item" style="box-shadow: none;"> <img src="image.png" style="zoom:50%" /></a></p>
<h2 id="çº¹ç†ç¯ç»•æ–¹å¼">çº¹ç†ç¯ç»•æ–¹å¼</h2>
<p>å½“çº¹ç†åæ ‡è¶…å‡ºé»˜è®¤èŒƒå›´æ—¶ï¼Œæ¯ä¸ªé€‰é¡¹éƒ½æœ‰ä¸åŒçš„è§†è§‰æ•ˆæœè¾“å‡ºã€‚ï¼ˆé»˜è®¤æ˜¯é‡å¤è¿™ä¸ªçº¹ç†å›¾åƒï¼‰</p>
<p><a href="image-1.png" class="gallery-item" style="box-shadow: none;"> <img src="image-1.png" style="zoom: 70% " /></a></p>
<blockquote>
<p>å¯ä»¥ä½¿ç”¨glTexParameter*å‡½æ•°å¯¹å•ç‹¬çš„ä¸€ä¸ªåæ ‡è½´è®¾ç½® 2D: (s,t) 3D: (s,t,r) -- å’Œxyzç­‰ä»· <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_MIRRORED_REPEAT);</span><br><span class="line"><span class="built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_MIRRORED_REPEAT); ```</span><br><span class="line">- ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šäº†çº¹ç†ç›®æ ‡</span><br><span class="line">- ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šè®¾ç½®çš„é€‰é¡¹ä¸åº”ç”¨çš„çº¹ç†è½´</span><br><span class="line">- æœ€åä¸€ä¸ªå‚æ•°éœ€è¦æˆ‘ä»¬ä¼ é€’ä¸€ä¸ªç¯ç»•æ–¹å¼(Wrapping)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## çº¹ç†è¿‡æ»¤</span><br><span class="line"></span><br><span class="line">å½“æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç‰©ä½“ä½†æ˜¯çº¹ç†çš„åˆ†è¾¨ç‡å¾ˆä½ï¼Œæ€æ ·å°†çº¹ç†åƒç´ (Texture Pixelï¼Œä¹Ÿå«Texel)æ˜ å°„åˆ°çº¹ç†åæ ‡</span><br><span class="line"></span><br><span class="line">![](image<span class="number">-2.</span>png)</span><br><span class="line"></span><br><span class="line">å½“è¿›è¡Œæ”¾å¤§(Magnify)å’Œç¼©å°(Minify)æ“ä½œçš„æ—¶å€™å¯ä»¥è®¾ç½®çº¹ç†è¿‡æ»¤çš„é€‰é¡¹ï¼Œæ¯”å¦‚ä½ å¯ä»¥åœ¨çº¹ç†è¢«ç¼©å°çš„æ—¶å€™ä½¿ç”¨é‚»è¿‘è¿‡æ»¤ï¼Œè¢«æ”¾å¤§æ—¶ä½¿ç”¨çº¿æ€§è¿‡æ»¤ã€‚</span><br><span class="line"></span><br><span class="line">```c++</span><br><span class="line"><span class="built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);</span><br><span class="line"><span class="built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR); ```</span><br><span class="line"></span><br><span class="line">## å¤šçº§æ¸è¿›çº¹ç†</span><br><span class="line"></span><br><span class="line">ä¸€ç³»åˆ—çš„çº¹ç†å›¾åƒï¼Œåä¸€ä¸ªçº¹ç†å›¾åƒæ˜¯å‰ä¸€ä¸ªçš„äºŒåˆ†ä¹‹ä¸€ã€‚</span><br><span class="line"></span><br><span class="line">&lt;img src=<span class="string">&quot;image-3.png&quot;</span> style=<span class="string">&quot;zoom:50%&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">ã€è¯¦ç»†åœ¨https:<span class="comment">//learnopengl-cn.github.io/01%20Getting%20started/06%20Textures/#_9ã€‘</span></span><br><span class="line"></span><br><span class="line">## åŠ è½½ä¸åˆ›å»ºçº¹ç†</span><br><span class="line"></span><br><span class="line">```c++</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> texture;</span><br><span class="line"><span class="built_in">glGenTextures</span>(<span class="number">1</span>, &amp;texture); <span class="comment">// ä¸ªæ•°ï¼Œå‚¨å­˜æŒ‡é’ˆ</span></span><br><span class="line"><span class="built_in">glBindTexture</span>(GL_TEXTURE_2D, texture); <span class="comment">// å¯¹è±¡ï¼Œ æŒ‡é’ˆï¼› ç»‘å®šç»™ç‰¹å®šå¯¹è±¡</span></span><br><span class="line"><span class="comment">// ä¸ºå½“å‰ç»‘å®šçš„çº¹ç†å¯¹è±¡è®¾ç½®ç¯ç»•ã€è¿‡æ»¤æ–¹å¼</span></span><br><span class="line"><span class="built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_WRAP_Sï¼ŒGL_REPEAT);   </span><br><span class="line"><span class="built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);</span><br><span class="line"><span class="built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);</span><br><span class="line"><span class="built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</span><br><span class="line"><span class="comment">// åŠ è½½å¹¶ç”Ÿæˆçº¹ç†</span></span><br><span class="line"><span class="type">int</span> width, height, nrChannels;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> *data = <span class="built_in">stbi_load</span>(<span class="string">&quot;container.jpg&quot;</span>, &amp;width, &amp;height, &amp;nrChannels, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span> (data)</span><br><span class="line">&#123;</span><br><span class="line">   <span class="built_in">glTexImage2D</span>(GL_TEXTURE_2D, <span class="number">0</span>, GL_RGB, width, height, <span class="number">0</span>, GL_RGB, GL_UNSIGNED_BYTE, data);</span><br><span class="line">   <span class="built_in">glGenerateMipmap</span>(GL_TEXTURE_2D);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">   std::cout &lt;&lt; <span class="string">&quot;Failed to load texture&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">stbi_image_free</span>(data);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="åº”ç”¨çº¹ç†">åº”ç”¨çº¹ç†</h2>
<p><a href="image-4.png" class="gallery-item" style="box-shadow: none;"> <img src="image-4.png" style="zoom: 70%"/></a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> vertices[] = &#123;</span><br><span class="line"><span class="comment">//     ---- ä½ç½® ----       ---- é¢œè‰² ----     - çº¹ç†åæ ‡ -</span></span><br><span class="line">     <span class="number">0.5f</span>,  <span class="number">0.5f</span>, <span class="number">0.0f</span>,   <span class="number">1.0f</span>, <span class="number">0.0f</span>, <span class="number">0.0f</span>,   <span class="number">1.0f</span>, <span class="number">1.0f</span>,   <span class="comment">// å³ä¸Š</span></span><br><span class="line">     <span class="number">0.5f</span>, <span class="number">-0.5f</span>, <span class="number">0.0f</span>,   <span class="number">0.0f</span>, <span class="number">1.0f</span>, <span class="number">0.0f</span>,   <span class="number">1.0f</span>, <span class="number">0.0f</span>,   <span class="comment">// å³ä¸‹</span></span><br><span class="line">    <span class="number">-0.5f</span>, <span class="number">-0.5f</span>, <span class="number">0.0f</span>,   <span class="number">0.0f</span>, <span class="number">0.0f</span>, <span class="number">1.0f</span>,   <span class="number">0.0f</span>, <span class="number">0.0f</span>,   <span class="comment">// å·¦ä¸‹</span></span><br><span class="line">    <span class="number">-0.5f</span>,  <span class="number">0.5f</span>, <span class="number">0.0f</span>,   <span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">0.0f</span>,   <span class="number">0.0f</span>, <span class="number">1.0f</span>    <span class="comment">// å·¦ä¸Š</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒæ•´å‰é¢ä¸¤ä¸ªé¡¶ç‚¹å±æ€§çš„æ­¥é•¿å‚æ•°ä¸º8 * sizeof(float)</span></span><br><span class="line"><span class="built_in">glVertexAttribPointer</span>(<span class="number">2</span>, <span class="number">2</span>, GL_FLOAT, GL_FALSE, <span class="number">8</span> * <span class="built_in">sizeof</span>(<span class="type">float</span>), (<span class="type">void</span>*)(<span class="number">6</span> * <span class="built_in">sizeof</span>(<span class="type">float</span>)));</span><br><span class="line"><span class="built_in">glEnableVertexAttribArray</span>(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>è°ƒæ•´é¡¶ç‚¹ç€è‰²å™¨ä½¿å…¶èƒ½å¤Ÿæ¥å—é¡¶ç‚¹åæ ‡ä¸ºä¸€ä¸ªé¡¶ç‚¹å±æ€§ï¼Œå¹¶æŠŠåæ ‡ä¼ ç»™ç‰‡æ®µç€è‰²å™¨ <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#version 330 core</span></span><br><span class="line"><span class="built_in">layout</span> (location = <span class="number">0</span>) in vec3 aPos;</span><br><span class="line"><span class="built_in">layout</span> (location = <span class="number">1</span>) in vec3 aColor;</span><br><span class="line"><span class="built_in">layout</span> (location = <span class="number">2</span>) in vec2 aTexCoord;</span><br><span class="line"></span><br><span class="line">out vec3 ourColor;</span><br><span class="line">out vec2 TexCoord;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    gl_Position = <span class="built_in">vec4</span>(aPos, <span class="number">1.0</span>);</span><br><span class="line">    ourColor = aColor;</span><br><span class="line">    TexCoord = aTexCoord;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure> ç‰‡æ®µç€è‰²å™¨åº”è¯¥æ¥ä¸‹æ¥ä¼šæŠŠè¾“å‡ºå˜é‡TexCoordä½œä¸ºè¾“å…¥å˜é‡ã€‚</p>
<hr />
<p>ç‰‡æ®µç€è‰²å™¨ä¹Ÿåº”è¯¥èƒ½è®¿é—®<strong>çº¹ç†å¯¹è±¡</strong>, GLSLæœ‰ä¸€ä¸ªä¾›çº¹ç†å¯¹è±¡ä½¿ç”¨çš„å†…å»ºæ•°æ®ç±»å‹ï¼Œå«åšé‡‡æ ·å™¨(Sampler): sampler2D / 1D /3D</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#version 330 core</span></span><br><span class="line">out vec4 FragColor;</span><br><span class="line"></span><br><span class="line">in vec3 ourColor;</span><br><span class="line">in vec2 TexCoord;</span><br><span class="line"></span><br><span class="line">uniform sampler2D ourTexture;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    FragColor = <span class="built_in">texture</span>(ourTexture, TexCoord);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>GLSLå†…å»ºçš„<span style="color: #9d3f37">texture</span>å‡½æ•°æ¥é‡‡æ ·çº¹ç†çš„é¢œè‰²ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯çº¹ç†é‡‡æ ·å™¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯¹åº”çš„çº¹ç†åæ ‡ã€‚</p>
<p>åœ¨è°ƒç”¨<span style="color: #9d3f37">glDrawElements</span>ä¹‹å‰ç»‘å®šçº¹ç†äº†ï¼Œå®ƒä¼šè‡ªåŠ¨æŠŠçº¹ç†èµ‹å€¼ç»™ç‰‡æ®µç€è‰²å™¨çš„é‡‡æ ·å™¨ <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">glBindTexture</span>(GL_TEXTURE_2D, texture);</span><br><span class="line"><span class="built_in">glBindVertexArray</span>(VAO);</span><br><span class="line"><span class="built_in">glDrawElements</span>(GL_TRIANGLES, <span class="number">6</span>, GL_UNSIGNED_INT, <span class="number">0</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h1 id="glslä»£ç å®è·µ">GLSLä»£ç å®è·µ</h1>
<p>Shader is small program in GPU, calculating the color of each pixel in the canvas</p>
<p>GLSL : https://www.shadertoy.com/</p>
<ul>
<li><p>æ¯ä¸ªShaderéƒ½åœ¨mainImageå‡½æ•°ä¸­å®šä¹‰ã€‚å¹¶ä¸”åªæœ‰ä¸¤ä¸ªå‚æ•°</p>
<p>void mainImage( out vec4 fragColor, in vec2 fragCoord ) { }</p>
<ul>
<li>fragCoordæ˜¯è¾“å…¥å‚æ•°ï¼Œå®ƒçš„ç±»å‹æ˜¯<span class="math inline">\(vec2\)</span>ï¼Œæ˜¯å½“å‰åƒç´ çš„xå’Œyåæ ‡ï¼ŒäºŒå€¼å‘é‡</li>
<li>fragColoræ˜¯è¾“å‡ºå‚æ•°ï¼Œå®ƒçš„ç±»å‹æ˜¯<span class="math inline">\(vec4\)</span>ã€‚æ‹¥æœ‰RGBAçš„é€šé“ï¼ˆ<span style="color: red">å½’ä¸€åŒ–[0,1]</span>ï¼‰</li>
<li><span class="math inline">\(f(x, y) \to (r,g,b)\)</span></li>
</ul></li>
<li><p>è¯¥å‡½æ•°æ˜¯é’ˆå¯¹å±å¹•ä¸Šçš„æ¯ä¸ªåƒç´ <strong>å¹¶è¡Œè®¡ç®—</strong>çš„ï¼Œä¼šå¯¹æ¯ä¸ªåƒç´ æ‰§è¡Œæ¥ç¡®å®šå…¶é¢œè‰²</p></li>
</ul>
<p>åˆ›å»ºä¸€ä¸ªåä¸ºuvçš„æ–°å‘é‡: <span class="math display">\[
vec2 \text{  } uv = (fragCoord * 2. - iResolution.xy)\text{  } /\text{  } iResolution.y;
\]</span> å°†ç”»å¸ƒä¸­å¿ƒç‚¹å˜ä¸ºï¼ˆ0ï¼Œ0ï¼‰ï¼Œ<span class="math inline">\(uv\)</span>èŒƒå›´åˆ†åˆ«ä¸º[-1,1]</p>
<blockquote>
<p>å…¨å±€å¸¸é‡<span style="color :red"><span class="math inline">\(iResolution\)</span></span>: <span class="math inline">\(vec3(x,y,z)\)</span></p>
<ul>
<li>x: width</li>
<li>y: height</li>
<li>z: depth</li>
</ul>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">mainImage</span><span class="params">( out vec4 fragColor, in vec2 fragCoord )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// å°†åƒç´ åæ ‡è½¬æ¢ä¸ºUVåæ ‡ï¼ŒUVåæ ‡çš„èŒƒå›´é€šå¸¸æ˜¯[0, 1]ï¼Œç”¨äºè´´å›¾æ˜ å°„ã€‚</span></span><br><span class="line">    vec2 uv = (fragCoord * <span class="number">2.</span> - iResolution.xy) / iResolution.y;</span><br><span class="line">    <span class="type">float</span> p = <span class="built_in">length</span>(uv);</span><br><span class="line">    p = p - <span class="number">0.5</span>;</span><br><span class="line">    fragColor = <span class="built_in">vec4</span>(p, p, p, <span class="number">1.0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="./OpenGL.assets/58CDE392-5ACD-4F88-B2F9-61D91650D865.png" class="gallery-item" style="box-shadow: none;"> <img src="./OpenGL.assets/58CDE392-5ACD-4F88-B2F9-61D91650D865.png" style="zoom:40%" /></a></p>
<ul>
<li><strong><span style="color :red">ç¬¦å·è·ç¦»å‡½æ•°ï¼ˆSDFï¼‰</span></strong>æ˜¯ç”¨äºæè¿°å°†ç©ºé—´ä¸­çš„æŸä¸ªä½ç½®ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›ä»è¯¥ä½ç½®åˆ°ç»™å®šå½¢çŠ¶çš„è·ç¦»çš„å‡½æ•°ã€‚å¸¦ç¬¦å·ï¼Œåœ¨å½¢çŠ¶å¤–çš„è·ç¦»ä¸ºæ­£æ•°ï¼Œå½¢çŠ¶å†…éƒ¨ä¸ºè´Ÿæ•°ï¼Œè€Œåœ¨å½¢çŠ¶çš„è¾¹ç•Œçº¿ä¸Šæ°å¥½ä¸ºé›¶ã€‚</li>
</ul>
<blockquote>
<ul>
<li>lengthå‡½æ•°: æ¥å—ä¸€ä¸ªå‘é‡ä½œä¸ºå…¶è¾“å…¥å‚æ•°ï¼Œå¹¶è®¡ç®—è¯¥å‘é‡å’ŒåŸç‚¹ä¹‹é—´çš„è·ç¦»</li>
<li>abså‡½æ•°ï¼šè¿”å›ç»å¯¹å€¼</li>
<li>stepå‡½æ•°ï¼šé˜¶è·ƒå‡½æ•°ï¼Œ <span style="color : red"><span class="math inline">\(step(threshold, x);\)</span>â€‹</span> å®ƒæ¥å—ä¸¤ä¸ªè¾“å…¥å‚æ•°ï¼Œä¸€ä¸ªé˜ˆå€¼ï¼Œä¸€ä¸ªå€¼ã€‚å®ƒçš„è¾“å‡ºåªèƒ½æœ‰ä¸¤ç§çŠ¶æ€ï¼šåˆ°å€¼å°äºé˜ˆå€¼æ—¶ï¼Œå®ƒå°†å§‹ç»ˆè¿”å›0ï¼Œå¦åˆ™è¿”å›1.</li>
<li>smoothstepå‡½æ•°ï¼š <span style="color : red"><span class="math inline">\(step(threshold1, threadhold2, x);\)</span>â€‹</span> å½“å‚æ•°ä½äºç¬¬ä¸€ä¸ªé˜ˆå€¼æ—¶ï¼Œå®ƒå°†é¢œè‰²åˆ†é…ä¸ºé»‘è‰²ï¼›å½“å‚æ•°è¶…è¿‡ç¬¬äºŒä¸ªé˜ˆå€¼æ—¶å°±ä¼šå˜æˆç™½è‰²ï¼Œ åœ¨ä¸¤ä¸ªé˜ˆå€¼èŒƒå›´å†…ï¼Œå®ƒå¹³æ»‘åœ°æ’å…¥0å’Œ1ä¹‹é—´çš„å€¼ã€‚ è¿™ä½¿å¾—æˆ‘ä»¬å¾—ä»¥å®Œå…¨æ§åˆ¶èŒƒå›´ä»¥åŠè¿‡æ¸¡çš„å°–é”ç¨‹åº¦ã€‚</li>
<li>fractå‡½æ•°ï¼ˆåˆ†æ•°å‡½æ•°ï¼‰ï¼šåªæå–å°æ•°ç‚¹åçš„æ•°å­—ï¼Œè¾“å‡ºèŒƒå›´ä¸º[0ï¼Œ1]</li>
<li>powå‡½æ•°ï¼š<span class="math inline">\(pow(x, a)  -&gt; x^a\)</span></li>
</ul>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">mainImage</span><span class="params">( out vec4 fragColor, in vec2 fragCoord )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// å°†åƒç´ åæ ‡è½¬æ¢ä¸ºUVåæ ‡ï¼ŒUVåæ ‡çš„èŒƒå›´é€šå¸¸æ˜¯[0, 1]ï¼Œç”¨äºè´´å›¾æ˜ å°„ã€‚</span></span><br><span class="line">    vec2 uv = (fragCoord * <span class="number">2.</span> - iResolution.xy) / iResolution.y;</span><br><span class="line">    <span class="type">float</span> p = <span class="built_in">length</span>(uv);</span><br><span class="line">    p = <span class="built_in">sin</span>(p * <span class="number">8.0</span> + iTime) / <span class="number">8.0</span>;</span><br><span class="line">    p = <span class="built_in">abs</span>(p);</span><br><span class="line">    p = <span class="number">0.02</span> / p;</span><br><span class="line">    vec3 col = <span class="built_in">vec3</span>(<span class="number">1.0</span>,<span class="number">2.0</span>,<span class="number">3.0</span>);</span><br><span class="line">    col = col * p;</span><br><span class="line">    fragColor = <span class="built_in">vec4</span>(col, <span class="number">1.0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="./OpenGL.assets/temp.png" class="gallery-item" style="box-shadow: none;"> <img src="./OpenGL.assets/temp.png" style="zoom:40%;" /></a></p>
<p><a href="./OpenGL.assets/image-20241015214257041.png" title="åœ°é¢" class="gallery-item" style="box-shadow: none;"> <img src="./OpenGL.assets/image-20241015214257041.png" alt="åœ°é¢" style="zoom:40%;" /></a></p>
<blockquote>
<p>iMouse: vec4(x,y,z,w)</p>
<ul>
<li>x: mouse pixel x</li>
<li>y: mouse pixel y</li>
<li>z: drag start x, mouse down: iMouse.z &gt; 0. |(1 st frame): iMouse.zw &gt;0.</li>
<li>w: drag start y, mouse up: iMouse.zw &lt; 0.</li>
</ul>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">float</span> <span class="title">sdSphere</span><span class="params">(vec3 p, <span class="type">float</span> s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">length</span>(p) - s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">smin</span><span class="params">(<span class="type">float</span> a , <span class="type">float</span> b, <span class="type">float</span> k)</span></span>&#123;</span><br><span class="line">    <span class="type">float</span> h = <span class="built_in">max</span>( k - <span class="built_in">abs</span>(a - b), <span class="number">0.0</span> ) / k;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">min</span>(a, b) - h * h * h * k * (<span class="number">1.0</span> / <span class="number">6.0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">sdBox</span><span class="params">(vec3 p, vec3 b)</span></span>&#123;</span><br><span class="line">    vec3 q = <span class="built_in">abs</span>(p) - b;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">length</span>(<span class="built_in">max</span>(q, <span class="number">0.0</span>)) + <span class="built_in">min</span>(<span class="built_in">max</span>(q.x, <span class="built_in">max</span>(q.y, q.z )), <span class="number">0.0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">mat2 <span class="title">rot2D</span><span class="params">(<span class="type">float</span> angle)</span></span>&#123;   </span><br><span class="line">    <span class="type">float</span> s = <span class="built_in">sin</span>(angle);</span><br><span class="line">    <span class="type">float</span> c = <span class="built_in">cos</span>(angle);</span><br><span class="line">    <span class="keyword">return</span>  <span class="built_in">mat2</span>(c, -s, s, c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å…¥æ˜¯rayçš„è·ç¦»</span></span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">map</span><span class="params">(vec3 p)</span></span>&#123;</span><br><span class="line">    vec3 spherePos = <span class="built_in">vec3</span>(<span class="built_in">sin</span>(iTime) * <span class="number">3.</span>,<span class="number">0</span>,<span class="number">0</span>); <span class="comment">// sphere position</span></span><br><span class="line">    <span class="comment">// ä½äºåŸç‚¹çš„ï¼ŒåŠå¾„ä¸º1 çš„çƒä½“</span></span><br><span class="line">    <span class="type">float</span> sphere = <span class="built_in">sdSphere</span>(p - spherePos, <span class="number">1.</span>); <span class="comment">// sphere SDF</span></span><br><span class="line">    vec3 q = p; <span class="comment">// input copy</span></span><br><span class="line">    <span class="comment">// å¦‚æœåˆ é™¤è¿™ä¸ªqï¼Œåˆ™åœ°é¢ä¹Ÿä¼šè·Ÿç€æ—‹è½¬ï¼Œå› ä¸ºï¼Œåœ¨</span></span><br><span class="line">    q.xy *= <span class="built_in">rot2D</span>(iTime); <span class="comment">// æŠŠzè½´æ’é™¤å‡ºå»å°±æ˜¯xyé¢çš„2Dæ—‹è½¬</span></span><br><span class="line">    <span class="comment">// ä½äºåŸç‚¹çš„ï¼Œè¾¹é•¿ä¸ºã€‚75çš„ç«‹æ–¹ä½“</span></span><br><span class="line">    <span class="type">float</span> box = <span class="built_in">sdBox</span>(q, <span class="built_in">vec3</span>(<span class="number">0.75</span>)); <span class="comment">// cube SDF </span></span><br><span class="line">    <span class="comment">// åŠ ä¸Šåœ°é¢</span></span><br><span class="line">    <span class="type">float</span> ground = p.y + <span class="number">.75</span>;</span><br><span class="line">    <span class="comment">// ä¸ºäº†ç»„åˆå½¢çŠ¶ï¼Œä½¿ç”¨minå‡½æ•°è¿”å›ä¸¤ä¸ªè·ç¦»ä¹‹é—´çš„æœ€å°å€¼</span></span><br><span class="line">    <span class="comment">//return min(ground, smin(sphere, box, 2.)); // distance to a sphere of radius 1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">min</span>(ground, <span class="built_in">min</span>(sphere, box));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mainImage</span><span class="params">( out vec4 fragColor, in vec2 fragCoord )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// å°†åƒç´ åæ ‡è½¬æ¢ä¸ºUVåæ ‡ï¼ŒUVåæ ‡çš„èŒƒå›´é€šå¸¸æ˜¯[0, 1]ï¼Œç”¨äºè´´å›¾æ˜ å°„ã€‚</span></span><br><span class="line">    vec2 uv = (fragCoord * <span class="number">2.</span> - iResolution.xy) / iResolution.y;    </span><br><span class="line">    <span class="comment">// define mouse</span></span><br><span class="line">    vec2 m = (iMouse.xy * <span class="number">2.</span> - iResolution.xy) / iResolution.y;</span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸€ä¸ªä¸‰ç»´å‘é‡ï¼Œè¡¨ç¤ºæ‘„åƒæœºï¼ˆæˆ–è€…è§‚å¯Ÿç‚¹ï¼‰çš„ä½ç½®ã€‚</span></span><br><span class="line">    vec3 ro = <span class="built_in">vec3</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">-4</span>);    <span class="comment">// ray origin</span></span><br><span class="line">    <span class="comment">// å°†UVåæ ‡æ‰©å±•ä¸ºä¸‰ç»´ï¼Œå¹¶è¿›è¡Œå½’ä¸€åŒ–ï¼Œå¾—åˆ°ä¸€ä¸ªæ–¹å‘å‘é‡ï¼Œè¡¨ç¤ºåƒç´ å¯¹åº”çš„å°„çº¿æ–¹å‘ã€‚</span></span><br><span class="line">    vec3 rd = <span class="built_in">normalize</span>(<span class="built_in">vec3</span>(uv, <span class="number">1</span>));  <span class="comment">// ray direction</span></span><br><span class="line">    vec3 color = <span class="built_in">vec3</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="comment">// totoal distance travelled</span></span><br><span class="line">    <span class="type">float</span> t = <span class="number">0.</span>;</span><br><span class="line">    <span class="comment">// control mouse</span></span><br><span class="line">    ro.yz *= <span class="built_in">rot2D</span>(-m.y);</span><br><span class="line">    rd.yz *= <span class="built_in">rot2D</span>(-m.y);</span><br><span class="line">    ro.xz *= <span class="built_in">rot2D</span>(-m.x);</span><br><span class="line">    rd.xz *= <span class="built_in">rot2D</span>(-m.x);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">80</span>; i++)&#123;</span><br><span class="line">        vec3 p = ro + rd * t;<span class="comment">// position along the ray</span></span><br><span class="line">        <span class="type">float</span> d = <span class="built_in">map</span>(p); <span class="comment">// current distance to the scene</span></span><br><span class="line">        t += d; <span class="comment">// &quot;march&quot;        </span></span><br><span class="line">        <span class="comment">//color = vec3(i) / 80.; // </span></span><br><span class="line">        <span class="keyword">if</span> (d &lt; <span class="number">.001</span> || t &gt; <span class="number">100.</span>) <span class="keyword">break</span>; <span class="comment">// early stop if close enough</span></span><br><span class="line">        <span class="comment">// early stop if too far</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//coloring</span></span><br><span class="line">    color = <span class="built_in">vec3</span>(t * <span class="number">.2</span>);</span><br><span class="line">    fragColor = <span class="built_in">vec4</span>(color, <span class="number">1</span>); </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2024-10-16</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« Xue xt</span>
            
            
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/OpenGL/'>
                            OpenGL
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='/2024/10/17/3DMath/'>3DMath</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/2024/10/09/Nerfs/">Nerfs</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 2001-2024 Xuext 

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠçœ‹è¿‡å¤§æµ·çš„äººä¸ä¼šå¿˜è®°æµ·çš„å¹¿é˜”ğŸŒŠ</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<b style="color: #333333;">ä½™é‡‘æ‚¦å¥³å£«</b>äº²æƒ…æ”¯æŒ ğŸ‘ </i></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> 

                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>